I wrote this to teach myself javascript, and it's hacky as hell. But I wrote it in a way that it should be relatively easy to understand and modify. So feel free to improve it if you like. 
